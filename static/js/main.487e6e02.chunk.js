(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{454:function(e,t,n){},455:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),s=n(136),i=n.n(s),r=n(27),o=n(18),l=n(1),j=function(e){var t=e.setSearchTag,n=Object(c.useRef)();return Object(l.jsx)("div",{className:"header",children:Object(l.jsxs)("div",{className:"header__wrapper",children:[Object(l.jsx)("h1",{children:"Notes"}),Object(l.jsxs)("div",{className:"header__search",children:[Object(l.jsx)("input",{className:"header__input",type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0442\u0435\u0433\u0443",ref:n}),Object(l.jsx)("button",{className:"header__btn",onClick:function(){t(n.current.value)},children:"\u041f\u043e\u0438\u0441\u043a"})]})]})})},d=n(29),u=(n(143),function(e){var t=e.setVisibleModal,n=e.note,a=e.saveEditedNote,s=Object(c.useState)(n),i=Object(o.a)(s,2),j=i[0],u=i[1],b=Object(c.useRef)();return Object(l.jsx)("div",{className:"modal",onClick:function(){return t(!1)},children:Object(l.jsxs)("div",{className:"modal__wrapper",onClick:function(e){return e.stopPropagation()},children:[Object(l.jsx)("div",{className:"modal__close",onClick:function(){return t(!1)},children:"X"}),Object(l.jsxs)("div",{className:"modal__content",children:[Object(l.jsx)("h2",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"}),Object(l.jsx)("input",{className:"modal__input",value:j.text,onChange:function(e){return u((function(t){return Object(d.a)(Object(d.a)({},t),{},{text:e.target.value})}))}}),Object(l.jsxs)("div",{className:"modal__tagedit",children:[Object(l.jsx)("p",{}),Object(l.jsx)("input",{className:"modal__input",ref:b,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u044d\u0433\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(l.jsx)("button",{className:"modal__btn",onClick:function(e){e.preventDefault();var t=new RegExp("^#w*"),n=b.current.value.split(" ");u((function(e){return Object(d.a)(Object(d.a)({},e),{},{tags:[].concat(Object(r.a)(e.tags),Object(r.a)(n.filter((function(e){return t.test(e)&&e}))))})})),b.current.value=""},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),Object(l.jsx)("p",{children:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0442\u044d\u0433\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(l.jsx)("div",{className:"note__tags",children:j.tags&&j.tags.map((function(e){return Object(l.jsx)("span",{className:"note__tag",onClick:function(){return t=e,void u((function(e){return Object(d.a)(Object(d.a)({},e),{},{tags:e.tags.filter((function(e){return e!==t}))})}));var t},children:e},e)}))}),Object(l.jsx)("button",{className:"modal__btn",onClick:function(){a(j),t(!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})}),b=function(e){var t=e.note,n=e.index,a=e.compliteNote,s=e.removeNote,i=e.saveEditedNote,r=Object(c.useState)(!1),j=Object(o.a)(r,2),d=j[0],b=j[1];return Object(c.useEffect)((function(){document.body.style.overflow=d?"hidden":"auto"}),[d]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"note",onClick:function(){a(n,t.complited)},children:Object(l.jsxs)("div",{className:"note__wrapper",children:[d&&Object(l.jsx)(u,{saveEditedNote:i,setVisibleModal:b,note:t}),Object(l.jsxs)("div",{className:"note__info",children:[Object(l.jsxs)("div",{className:t.complited?"note__text complited":"note__text",children:[n+1,". ",t.text]}),Object(l.jsx)("div",{className:"note__tags",children:t.tags.map((function(e){return Object(l.jsx)("span",{className:"note__tag",style:{textDecoration:"none"},children:e})}))})]}),Object(l.jsxs)("div",{className:"note__buttons",children:[Object(l.jsx)("button",{className:"note__btn",onClick:function(e){e.stopPropagation(),b(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(l.jsx)("button",{className:"note__btn",onClick:function(){s(t.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},t.id)})},O=function(e){var t=e.notes,n=e.compliteNote,c=e.removeNote,a=e.saveEditedNote;return Object(l.jsx)("div",{className:"notes",children:Object(l.jsx)("div",{className:"notes__wrapper",children:t.map((function(e,t){return Object(l.jsx)(b,{note:e,index:t,compliteNote:n,removeNote:c,saveEditedNote:a},e.id)}))})})},m=function(e){var t=e.addNote,n=Object(c.useState)(""),a=Object(o.a)(n,2),s=a[0],i=a[1];return Object(l.jsx)("div",{className:"input",children:Object(l.jsx)("div",{className:"input__wrapper",children:Object(l.jsxs)("form",{className:"input__body",onSubmit:function(e){e.preventDefault(),s.trim()?(t(s),i("")):alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!")},children:[Object(l.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u043c\u0435\u0442\u043a\u0438 (\u0432\u044b \u043c\u043e\u0436\u0435\u0442 \u0437\u0434\u0435\u0441\u044c \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0442\u0435\u0433\u0438, \u043e\u043d\u0438 \u0430\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u0442\u0441\u044f)",value:s,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)("button",{className:"input__button",type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})})},f=(n(454),function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),d=i[0],u=i[1];Object(c.useEffect)((function(){!localStorage.getItem("notes")&&localStorage.setItem("notes",[]),a(JSON.parse(localStorage.getItem("notes")))}),[]);var b=function(){if(d){var e=[];return n.forEach((function(t){t.tags.forEach((function(n){n===d&&e.push(t)}))})),e}return n}();Object(c.useEffect)((function(){localStorage.setItem("notes",JSON.stringify(n))}),[n]);return Object(l.jsxs)("div",{className:"page",children:[Object(l.jsx)(j,{setSearchTag:u}),Object(l.jsxs)("div",{className:"page__wrapper",children:[Object(l.jsx)(m,{addNote:function(e){var t=new RegExp("^#w*"),c={id:(new Date).valueOf(),text:e.split("#")[0],complited:!1,tags:e.split(" ").filter((function(e){return t.test(e)&&e}))};a([c].concat(Object(r.a)(n)))}}),0===b.length&&d?Object(l.jsx)("div",{className:"page__error",children:Object(l.jsx)("h2",{children:" \u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u043e "})}):"",n.length>0?Object(l.jsx)(O,{notes:b,saveEditedNote:function(e){a((function(t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return t[n]=e,Object(r.a)(t)}))},removeNote:function(e){a(n.filter((function(t){return t.id!==e})))},compliteNote:function(e,t){e&&a((function(n){return n[e].complited=!t,Object(r.a)(n)}))}}):Object(l.jsxs)("div",{className:"page__error",children:[Object(l.jsx)("h2",{children:" \u0417\u0430\u043c\u0435\u0442\u043e\u043a \u043d\u0435\u0442 "}),Object(l.jsx)("p",{children:"\u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0443"})]})]})]})});i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root"))}},[[455,1,2]]]);
//# sourceMappingURL=main.487e6e02.chunk.js.map